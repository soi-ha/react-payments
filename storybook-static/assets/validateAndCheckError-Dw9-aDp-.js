import{r as d}from"./index-CsdIBAqE.js";import{c as A}from"./FormSection-DWAqeXpQ.js";const m=({inputLength:a,maxLength:o,regex:u,errorText:E,betweenMaxLength:i})=>{const h=t=>Array.from({length:t},(s,e)=>({value:"",hasError:!1,hasFocus:e===0,isFilled:!1})).reduce((s,e,f)=>(s[f]=e,s),{}),[F,n]=d.useState(""),[c,r]=d.useState(h(a));return{inputState:c,errorMessage:F,setInputState:r,setErrorMessage:n,handleValueChange:(t,s)=>{const e=t.target.value,f=e.length===o;e.length<=o&&!u.test(e)?(r(l=>({...l,[s]:{...l[s],value:e.split("").filter(g=>u.test(g)).join(""),hasError:!0,isFilled:f}})),n(E)):e.length>o?r(l=>({...l,[s]:{...l[s],value:e.slice(0,o),hasError:!1,isFilled:f}})):i&&e.length>0?r(l=>({...l,[s]:{...l[s],value:e,hasError:!1,isFilled:!0}})):r(l=>({...l,[s]:{...l[s],value:e,hasError:!1,isFilled:f}}))},setFocus:t=>{r(s=>({...s,[t]:{...s[t],hasFocus:!0}}))},setBlur:t=>{r(s=>({...s,[t]:{...s[t],hasFocus:!1}}))},resetErrors:()=>{const t=Object.keys(c).reduce((s,e)=>{const f=c[e];return s[e]={...f,hasError:!1},s},{});r(t),n("")}}};function I({inputState:a,setInputState:o,setErrorMessage:u,errorText:E,elseValidator:i}){let h=!1;const F=Object.keys(a).reduce((n,c)=>{const r=a[c];return r.isFilled?n[c]=r:(n[c]={...r,hasError:!0},h=!0),n},{});o(F),h?u(E):i?i():u("")}const p=({inputState:a,stateText:o,errorText:u,setInputState:E,setErrorMessage:i,changeIsValid:h,elseValidator:F})=>{I({inputState:a,setInputState:E,setErrorMessage:i,errorText:u,elseValidator:F}),h({state:o,isValid:A(a)})};export{m as u,p as v};
