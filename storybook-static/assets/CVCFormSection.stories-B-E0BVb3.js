import{j as r}from"./style-1oStNS6c.js";import{r as n}from"./index-CsdIBAqE.js";import{u as F,v as m}from"./validateAndCheckError-Dw9-aDp-.js";import{c as y,F as O,I,L as j,a as S,O as o,E as T,b as c}from"./FormSection-DWAqeXpQ.js";import{P}from"./PaymentsFormTitle-aKWCOdka.js";import{P as R}from"./PaymentsInputField-DyH0YpD3.js";import{R as L}from"./regex-BHDXXUrE.js";const h=({changeCVC:g,changeIsValid:a})=>{const{inputState:e,errorMessage:f,setInputState:i,setErrorMessage:u,handleValueChange:x,setFocus:v,setBlur:C,resetErrors:E}=F({inputLength:o.cvcInputCount,maxLength:o.cvcMaxLength,regex:L.numbers,errorText:c.onlyNumber}),V=t=>{t.key==="Enter"&&m({inputState:e,setInputState:i,setErrorMessage:u,changeIsValid:a,stateText:"cvc",errorText:c.cvcOutOfRange})};return n.useEffect(()=>{E(),e[0].hasFocus||m({inputState:e,setInputState:i,setErrorMessage:u,changeIsValid:a,stateText:"cvc",errorText:c.cvcOutOfRange})},[e[0].hasFocus]),n.useEffect(()=>{g(e[0].value)},[e[0].value]),n.useEffect(()=>{a({state:"cvc",isValid:y(e)})},[!e[0].hasFocus]),r.jsxs(O,{children:[r.jsx(P,{title:"CVC 번호를 입력해 주세요"}),r.jsxs(I,{children:[r.jsx(j,{children:"CVC"}),r.jsx(S,{className:"input-field-container",children:r.jsx(R,{className:"cvc-form-section",placeholder:"123",maxLength:o.cvcMaxLength,value:e[0].value,hasError:e[0].hasError,handleValueChange:t=>x(t,0),handleOnFocus:()=>v(0),handleOnBlur:()=>C(0),onEnter:t=>V(t)})}),r.jsx(T,{children:f})]})]})};h.__docgenInfo={description:"",methods:[],displayName:"CVCFormSection",props:{changeCVC:{required:!0,tsType:{name:"signature",type:"function",raw:"(cvc: string) => void",signature:{arguments:[{type:{name:"string"},name:"cvc"}],return:{name:"void"}}},description:""},changeIsValid:{required:!0,tsType:{name:"signature",type:"function",raw:"({ state, isValid }: isValidProps) => void",signature:{arguments:[{type:{name:"isValidProps"},name:""}],return:{name:"void"}}},description:""}}};const A={title:"CVCFormSection",component:h},s={args:{changeCVC:()=>{},changeIsValid:()=>{}}};var l,p,d;s.parameters={...s.parameters,docs:{...(l=s.parameters)==null?void 0:l.docs,source:{originalSource:`{
  args: {
    changeCVC: () => {},
    changeIsValid: () => {}
  }
}`,...(d=(p=s.parameters)==null?void 0:p.docs)==null?void 0:d.source}}};const B=["Default"];export{s as Default,B as __namedExportsOrder,A as default};
